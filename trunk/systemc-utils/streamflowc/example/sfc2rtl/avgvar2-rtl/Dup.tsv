module Dup
i    clk rst
i 11 idata@
o 11 odata@

w    cnt_cke
w  3 cnt = Counter3 ( clk rst cnt_cke )
w    last_in_block = (cnt == 3'h7)
a    idata_rdy = last_in_block ? odata_rdy : 1'b0
a    odata_vld = idata_vld
a    cnt_cke   = idata_vld & odata_rdy

a    odata = idata

endmodule

# Timechart (w/o idle cycles)
#  clk        _--__--__--__--__--__--__--__--__--__--__--__--__--__--__--__--__-
#  idata_vld  _____.------------------------------------------------------------
#  odata_rdy  _____.------------------------------------------------------------
#  cnt        =0=======X=1=X=2=X=3=X=4=X=5=X=6=X=7=X=0=X=1=X=2=X=3=X=4=X=5=X=6=X
#  idata_rdy  _________________________________.---.___________________________.
#  odata_vld  _____.------------------------------------------------------------
#  idata transfer                                 *
#  odata transfer     *   *   *   *   *   *   *   *   *   *   *   *   *   *   *

# Timechart (w/  idle cycles)
#  clk        _--__--__--__--__--__--__--__--__--__--__--__--__--__--__--__--__-
#  idata_vld  _____.-------------------------------------------._______.--------
#  odata_rdy  _________.-------.___.-------------------.___.--------------------
#  cnt        =0===========X=1=X=2=====X=3=X=4=X=5=X=6=X=7=====X=========0=X=1=X
#  idata_rdy  _____________________________________________.---.________________
#  odata_vld  _____.-------------------------------------------._______.--------
#  idata transfer                                             *
#  odata transfer         *   *       *   *   *   *   *       *           *   *
